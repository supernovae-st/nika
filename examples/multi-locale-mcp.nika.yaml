# Multi-Locale MCP Generation (v0.3)
#
# Combines for_each parallelism with MCP invoke.
# Generates content for multiple locales in parallel.
#
# This is the flagship use case for Nika + NovaNet:
# Generate native content across locales using the knowledge graph.
#
# Setup:
#   1. Start NovaNet MCP server with Neo4j
#   2. Run: nika run examples/multi-locale-mcp.nika.yaml

schema: "nika/workflow@0.3"
provider: claude

mcp:
  novanet:
    command: cargo
    args: [run, -p, novanet-mcp]
    env:
      NEO4J_URI: bolt://localhost:7687

tasks:
  # Generate content for 5 locales in parallel
  - id: generate_pages
    for_each: ["en-US", "fr-FR", "de-DE", "es-ES", "ja-JP"]
    as: locale
    invoke:
      mcp: novanet
      tool: novanet_generate
      params:
        entity: "landing-page"
        locale: "{{use.locale}}"
        forms: ["title", "description", "cta"]
