# Quickstart: MCP Integration (v0.3)
#
# The simplest possible NovaNet MCP example.
# Demonstrates: invoke verb calling an MCP tool.
#
# Setup:
#   1. Start Neo4j: cd ../novanet-dev && pnpm infra:up && pnpm infra:seed
#   2. Run: cargo run -- run examples/quickstart-mcp.nika.yaml
#
# Expected output: Schema overview from NovaNet knowledge graph

schema: "nika/workflow@0.3"
provider: claude

mcp:
  novanet:
    command: cargo
    args: [run, -p, novanet-mcp]
    env:
      NEO4J_URI: bolt://localhost:7687
      NEO4J_USER: neo4j
      NEO4J_PASSWORD: novanetpassword

tasks:
  # Step 1: Describe the schema from NovaNet
  - id: get_schema
    invoke:
      mcp: novanet
      tool: novanet_describe
      params:
        describe: schema

  # Step 2: Use LLM to summarize the schema
  - id: summarize
    use:
      schema: get_schema
    infer: |
      Summarize this NovaNet knowledge graph schema in 2-3 sentences:
      {{use.schema}}

flows:
  - source: get_schema
    target: summarize
